{% extends "base.html" %}

{% block js %}
    <!-- EditorJs -->
    <script src="https://cdn.jsdelivr.net/npm/codex.editor.header@2.0.4/dist/bundle.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@editorjs/header@latest"></script><!-- Header -->
    <script src="https://cdn.jsdelivr.net/npm/@editorjs/simple-image@latest"></script><!-- Image -->
    <script src="https://cdn.jsdelivr.net/npm/@editorjs/delimiter@latest"></script><!-- Delimiter -->
    <script src="https://cdn.jsdelivr.net/npm/@editorjs/list@latest"></script><!-- List -->
    <script src="https://cdn.jsdelivr.net/npm/@editorjs/checklist@latest"></script><!-- Checklist -->
    <script src="https://cdn.jsdelivr.net/npm/@editorjs/quote@latest"></script><!-- Quote -->
    <script src="https://cdn.jsdelivr.net/npm/@editorjs/code@latest"></script><!-- Code -->
    <script src="https://cdn.jsdelivr.net/npm/@editorjs/embed@latest"></script><!-- Embed -->
    <script src="https://cdn.jsdelivr.net/npm/@editorjs/table@latest"></script><!-- Table -->
    <script src="https://cdn.jsdelivr.net/npm/@editorjs/link@latest"></script><!-- Link -->
    <script src="https://cdn.jsdelivr.net/npm/@editorjs/warning@latest"></script><!-- Warning -->
    <script src="https://cdn.jsdelivr.net/npm/@editorjs/image@latest"></script><!-- Image -->
    <script src="https://cdn.jsdelivr.net/npm/@editorjs/marker@latest"></script><!-- Marker -->
    <script src="https://cdn.jsdelivr.net/npm/@editorjs/inline-code@latest"></script><!-- Inline Code -->
    <script src="https://cdn.jsdelivr.net/npm/@editorjs/editorjs@latest"></script><!-- Editor -->
{% endblock %}


{% block bodyContent %}
<div class="collection-edit">
    <form id="form" onsubmit="savelah()" method="post" class="collection-edit__form form">
        <div class="collection-edit__main">
            <div class="eyebrow">
                <div class="gutter--left gutter--right eyebrow__wrap">
                    <nav class="step-nav"><a href="/admin"><span>Dashboard</span><svg class="icon icon--chevron"
                                xmlns="http://www.w3.org/2000/svg" viewBox="0 0 25 25">
                                <path class="stroke" d="M9 10.5L12.5 14.5L16 10.5"></path>
                            </svg></a><a href="/admin/posts"><span>Posts</span><svg
                                class="icon icon--chevron" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 25 25">
                                <path class="stroke" d="M9 10.5L12.5 14.5L16 10.5"></path>
                            </svg></a><span>Create New</span></nav>
                </div>
            </div>
            <div class="gutter--left gutter--right collection-edit__edit">
                <header class="collection-edit__header">
                    <h1><span class="render-title">[Untitled]</span></h1>
                </header>
                <div class="render-fields">
                    <div class="field-type text"><label for="field-title" class="field-label">Title</label><input
                            id="field-title" type="text" name="title" value=""></div>
                    <div id="field-category" class="field-type relationship"><label for="category"
                            class="field-label">Category</label>
                        <div class="relationship__wrap">
                            <div class="react-select css-2b097c-container">
                                <div class="rs__control css-yk16xz-control">
                                    <div class="rs__value-container rs__value-container--is-multi css-1hwfws3">
                                        <div class="rs__placeholder css-1wa3eu0-placeholder">Select a value</div>
                                        <div class="css-1g6gooi">
                                            <div class="rs__input" style="display: inline-block;"><input
                                                    autocapitalize="none" autocomplete="off" autocorrect="off"
                                                    id="react-select-2-input" spellcheck="false" tabindex="0"
                                                    type="text" aria-autocomplete="list" value=""
                                                    style="box-sizing: content-box; width: 2px; border: 0px; font-size: inherit; opacity: 1; outline: 0px; padding: 0px; color: inherit; background-position: 0px center;">
                                                <div
                                                    style="position: absolute; top: 0px; left: 0px; visibility: hidden; height: 0px; overflow: scroll; white-space: pre; font-size: 13px; font-family: &quot;Suisse Intl&quot;, system-ui, -apple-system, &quot;Segoe UI&quot;, Roboto, Ubuntu, Cantarell, &quot;Noto Sans&quot;, sans-serif; font-weight: 400; font-style: normal; letter-spacing: normal; text-transform: none;">
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="rs__indicators css-1wy0on6"><span
                                            class="rs__indicator-separator css-1okebmr-indicatorSeparator"></span><svg
                                            class="icon icon--chevron" xmlns="http://www.w3.org/2000/svg"
                                            viewBox="0 0 25 25">
                                            <path class="stroke" d="M9 10.5L12.5 14.5L16 10.5"></path>
                                        </svg></div>
                                </div>
                            </div>
                            <div class="relationship-add-new" id="category-add-new"><button type="button"
                                    class="btn relationship-add-new__add-button btn--style-none btn--icon-style-without-border btn--size-medium btn--icon-position-right btn--has-tooltip"><span
                                        class="btn__content">
                                        <aside class="tooltip btn__tooltip">Add new Category<span></span></aside><span
                                            class="btn__label"><svg class="icon icon--plus"
                                                xmlns="http://www.w3.org/2000/svg" viewBox="0 0 25 25">
                                                <line x1="12.4589" y1="16.9175" x2="12.4589" y2="8.50115"
                                                    class="stroke"></line>
                                                <line x1="8.05164" y1="12.594" x2="16.468" y2="12.594" class="stroke">
                                                </line>
                                            </svg></span>
                                    </span></button></div>
                        </div>
                    </div>
                    <div id="field-layout" class="field-type blocks-field">
                        <div class="blocks-field__error-wrap"></div>
                        <header class="blocks-field__header">
                            <div class="blocks-field__header-wrap">
                                <h3>Page Layout</h3>
                                <ul class="blocks-field__header-actions">
                                    <li><button type="button" class="blocks-field__header-action">Collapse All</button>
                                    </li>
                                    <li><button type="button" class="blocks-field__header-action">Show All</button></li>
                                </ul>
                            </div>
                        </header>
                        <div data-rbd-droppable-id="blocks-drop" data-rbd-droppable-context-id="0">
                            <div class="banner banner--type-error"><span class="banner__content">This field requires at
                                    least 1 Layout.</span></div>
                        </div>
                        <div class="blocks-field__add-button-wrap">
                            <div class="popup popup--size-large popup--color-light popup--v-align-top popup--h-align-left">
                                <div class="popup__wrapper">
                                    <div role="button" tabindex="0" class="popup-button popup-button--custom"><button
                                            type="button"
                                            class="btn btn--style-icon-label btn--icon btn--icon-style-with-border btn--size-medium btn--icon-position-left"><span
                                                class="btn__content"><span class="btn__label">Add Layout</span><span
                                                    class="btn__icon"><svg class="icon icon--plus"
                                                        xmlns="http://www.w3.org/2000/svg" viewBox="0 0 25 25">
                                                        <line x1="12.4589" y1="16.9175" x2="12.4589" y2="8.50115"
                                                            class="stroke"></line>
                                                        <line x1="8.05164" y1="12.594" x2="16.468" y2="12.594"
                                                            class="stroke"></line>
                                                    </svg></span></span></button></div>
                                </div>
                                
                                <br/><br/>
                                <h3>Start Writing</h3>
                                <div id="editorjs"></div>
                                <script>
                                    var editor = new EditorJS({
                                        holder: 'editorjs',
                                        autofocus: true,

                                        tools: {
                                            header: {
                                                class: Header,
                                                inlineToolbar: ['marker', 'link'],
                                                config: {
                                                    placeholder: 'Header'
                                                },
                                                shortcut: 'CMD+SHIFT+H'
                                            },

                                            image: SimpleImage,

                                            list: {
                                                class: List,
                                                inlineToolbar: true,
                                                shortcut: 'CMD+SHIFT+L'
                                            },

                                            checklist: {
                                                class: Checklist,
                                                inlineToolbar: true,
                                            },

                                            quote: {
                                                class: Quote,
                                                inlineToolbar: true,
                                                config: {
                                                    quotePlaceholder: 'Enter a quote',
                                                    captionPlaceholder: 'Quote\'s author',
                                                },
                                                shortcut: 'CMD+SHIFT+O'
                                            },

                                            warning: Warning,

                                            marker: {
                                                class: Marker,
                                                shortcut: 'CMD+SHIFT+M'
                                            },

                                            delimiter: Delimiter,

                                            inlineCode: {
                                                class: InlineCode,
                                                shortcut: 'CMD+SHIFT+C'
                                            },

                                            linkTool: LinkTool,

                                            embed: Embed,

                                            table: {
                                                class: Table,
                                                inlineToolbar: true,
                                                shortcut: 'CMD+ALT+T'
                                            },

                                        },

                                        data: {
                                            blocks: [
                                                {% for block in data %}
                                                {{ block | tojson | safe }},
                                    {% endfor %}
                                        ]
                                    },

                                    onChange: function(api, event) {
                                        console.log('something changed', event);
                                    }
                                });

                                    function savelah() {
                                        const hihi = document.getElementById('hihi');

                                        editor.save().then((outputData) => {
                                            hihi.value = JSON.stringify(outputData);
                                        }).catch((error) => {
                                            console.log('Saving failed: ', error)
                                        });
                                    }
                                </script>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div class="collection-edit__sidebar-wrap">
            <div class="collection-edit__sidebar">
                <div class="collection-edit__sidebar-sticky-wrap">
                    <ul class="collection-edit__collection-actions">
                        <li></li>
                    </ul>
                    <div class="collection-edit__document-actions collection-edit__document-actions--has-2">
                        <input type="hidden" name="csrf_token" value="{{ csrf_token() }}" />
                        <input type="hidden" id="hihi" name="post_content" value="" />

                        <div class="form-submit">
                            <button type="button" class="btn save-draft btn--style-secondary btn--icon-style-without-border btn--disabled btn--size-medium btn--icon-position-right" disabled="">
                                <span class="btn__content"><span class="btn__label">Save Draft</span></span>
                            </button>
                        </div>

                        <div class="form-submit">
                            <button type="submit" class="btn btn--style-primary btn--icon-style-without-border btn--size-medium btn--icon-position-right">
                                <span class="btn__content"><span class="btn__label">Publish changes</span></span>
                            </button>
                        </div>
                    </div>
                    <div class="collection-edit__sidebar-fields">
                        <div class="status">
                            <div class="status__value-wrap"><span class="status__value">Draft</span></div>
                        </div>
                        <div class="render-fields">
                            <div id="field-author" class="field-type relationship"><label for="author"
                                    class="field-label">Author</label>
                                <div class="relationship__wrap">
                                    <div class="react-select css-2b097c-container">
                                        <div class="rs__control css-yk16xz-control">
                                            <div class="rs__value-container rs__value-container--has-value css-1hwfws3">
                                                <div class="rs__single-value css-1uccc91-singleValue">
                                                    demo@ttlcms.com</div>
                                                <div class="css-1g6gooi">
                                                    <div class="rs__input" style="display: inline-block;"><input
                                                            autocapitalize="none" autocomplete="off" autocorrect="off"
                                                            id="react-select-3-input" spellcheck="false" tabindex="0"
                                                            type="text" aria-autocomplete="list" value=""
                                                            style="box-sizing: content-box; width: 2px; border: 0px; font-size: inherit; opacity: 1; outline: 0px; padding: 0px; color: inherit; background-position: 0px center;">
                                                        <div
                                                            style="position: absolute; top: 0px; left: 0px; visibility: hidden; height: 0px; overflow: scroll; white-space: pre; font-size: 13px; font-family: &quot;Suisse Intl&quot;, system-ui, -apple-system, &quot;Segoe UI&quot;, Roboto, Ubuntu, Cantarell, &quot;Noto Sans&quot;, sans-serif; font-weight: 400; font-style: normal; letter-spacing: normal; text-transform: none;">
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="rs__indicators css-1wy0on6">
                                                <div aria-hidden="true"
                                                    class="rs__indicator rs__clear-indicator css-tlfecz-indicatorContainer">
                                                    <svg height="20" width="20" viewBox="0 0 20 20" aria-hidden="true"
                                                        focusable="false" class="css-19bqh2r">
                                                        <path
                                                            d="M14.348 14.849c-0.469 0.469-1.229 0.469-1.697 0l-2.651-3.030-2.651 3.029c-0.469 0.469-1.229 0.469-1.697 0-0.469-0.469-0.469-1.229 0-1.697l2.758-3.15-2.759-3.152c-0.469-0.469-0.469-1.228 0-1.697s1.228-0.469 1.697 0l2.652 3.031 2.651-3.031c0.469-0.469 1.228-0.469 1.697 0s0.469 1.229 0 1.697l-2.758 3.152 2.758 3.15c0.469 0.469 0.469 1.229 0 1.698z">
                                                        </path>
                                                    </svg></div><span
                                                    class="rs__indicator-separator css-1okebmr-indicatorSeparator"></span><svg
                                                    class="icon icon--chevron" xmlns="http://www.w3.org/2000/svg"
                                                    viewBox="0 0 25 25">
                                                    <path class="stroke" d="M9 10.5L12.5 14.5L16 10.5"></path>
                                                </svg>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="relationship-add-new" id="author-add-new"><button type="button"
                                            class="btn relationship-add-new__add-button btn--style-none btn--icon-style-without-border btn--size-medium btn--icon-position-right btn--has-tooltip"><span
                                                class="btn__content">
                                                <aside class="tooltip btn__tooltip">Add new User<span></span></aside>
                                                <span class="btn__label"><svg class="icon icon--plus"
                                                        xmlns="http://www.w3.org/2000/svg" viewBox="0 0 25 25">
                                                        <line x1="12.4589" y1="16.9175" x2="12.4589" y2="8.50115"
                                                            class="stroke"></line>
                                                        <line x1="8.05164" y1="12.594" x2="16.468" y2="12.594"
                                                            class="stroke"></line>
                                                    </svg></span>
                                            </span></button></div>
                                </div>
                            </div>
                            <div class="field-type date-time-field">
                                <div class="date-time-field__error-wrap"></div><label for="publishDate"
                                    class="field-label">Publish Date</label>
                                <div id="field-publishDate" class="date-time-field__input-wrapper">
                                    <div class="date-time-picker date-time-picker__appearance--dayAndTime">
                                        <div class="date-time-picker__icon-wrap"><button type="button"
                                                class="date-time-picker__clear-button"><svg width="25" height="25"
                                                    class="icon icon--x" xmlns="http://www.w3.org/2000/svg"
                                                    viewBox="0 0 25 25">
                                                    <line class="stroke" x1="8.74612" y1="16.347" x2="16.3973"
                                                        y2="8.69584"></line>
                                                    <line class="stroke" x1="8.6027" y1="8.69585" x2="16.2539"
                                                        y2="16.3471"></line>
                                                </svg></button><svg class="icon icon--calendar"
                                                xmlns="http://www.w3.org/2000/svg" viewBox="0 0 25 25">
                                                <rect x="4.5" y="6.11401" width="16" height="14" class="stroke"></rect>
                                                <line x1="8.625" y1="8.02026" x2="8.625" y2="3.70776" class="stroke">
                                                </line>
                                                <line x1="16.375" y1="8.02026" x2="16.375" y2="3.70776" class="stroke">
                                                </line>
                                                <line x1="4.5" y1="11.114" x2="20.5" y2="11.114" class="stroke"></line>
                                            </svg></div>
                                        <div class="date-time-picker__input-wrapper">
                                            <div class="react-datepicker-wrapper">
                                                <div class="react-datepicker__input-container"><input type="text"
                                                        class="" value="Dec 11, 2022 4:04 PM"></div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="field-description">Posts will not be public until this date</div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </form>
</div>
{% endblock %}